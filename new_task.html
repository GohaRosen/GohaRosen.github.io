<!DOCTYPE HTML>
<html>

<head runat="server">
   <title>New task</title>
   <meta name="viewport" content="width=device-width,
      initial-scale=1" />
   <link href="bootstrap-3.3.6-dist/css/bootstrap.min.css" rel="stylesheet" />
</head>


<body>
    <div>
          <div class="input-group">
          	<span class="input-group-addon">ADD NEW TASK</span>
          </div>
          <br />
        
       <div class="input-group">
          <span class="input-group-addon">Description</span>
          <input type="text" class="form-control"
             id="textInput" />
       </div>
       <br />
       <div class="input-group">
          <span class="input-group-addon">Priority</span>
            <select id="priority" class="form-control" >
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
            </select>
       </div>
       <br />
       <div class="input-group">
          <span class="input-group-addon">Due Date</span>
          <input id="dueDate" type="date" name="dueDate" class="form-control"/>
       </div>
       <br />
       <div class="navbar navbar-default navbar-fixed-bottom">
             <div class="btn btn-primary btn-lg btn-block">
                <a class="btn btn-primary btn-large" id="submit"  href="table.html">
                  Add new task
                </a>
                <a class="btn btn-primary btn-large" href="table.html">
                  Back
                </a>
             </div>
    	</div>
    </div>
    

<script type="text/javascript">
	
	window.onload = setUpEvents; 
	var myTaskObjects = new Array();
    
    function setUpEvents()
	{
            
            document.getElementById("submit").onclick = function()
			{	 
    			var taskDescription = document.getElementById("textInput").value;
				var dueDate = document.getElementById("dueDate").value;
				var priority = document.getElementById("priority").value;
				var id = Math.floor(Math.random() * 100000) + 1;
				var button = document.createElement("BUTTON"); 
                
                var myTaskObject = new Object();			//create object
                myTaskObject.description = textInput.value;		//put the data into the object
                myTaskObject.priority = priority.value;
                myTaskObject.taskId = Math.floor(Math.random() * 100000) + 1 ; //random number between 1-100000 (rounded up)
                myTaskObject.dueDate = dueDate.value;
                myTaskObject.deleteRow = button;
                
                myTaskObjects.push(myTaskObject);	
                
				
				if (typeof(window.localStorage)!= "undefined")
				{
					window.localStorage.setItem("taskArray", JSON.stringify(myTaskObjects));
					var retrievedObject = window.localStorage.getItem("taskArray");
					
				}	
						
			}
	}
				
                
</script>
</body>
</html>
